(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();function L(r,o){o.sort((n,t)=>t.length-n.length);const[,e]=P(r,o);return B(r,e)}const N="そうはいうものの,そればかりでなく,ありとあらゆる,いずれにしても,かけがえのない,そうしてみると,そうすることで,そうでないなら,そうではあるが,それにくわえて,それはさておき,どっちにしても,とはいうものの,なぜかというと,にもかかわらず,いいかえると,いずれにしろ,いずれにせよ,いってみれば,おもいきった,しかしながら,じつのところ,じつはいうと,そうしないと,そうではなく,そのためには,それどころか,それにしても,それによって,そればかりか,それはそうと,どちらにせよ,どっちにせよ,いろいろな,このように,さまざまな,さもないと,したがって,そういえば,そうしたら,そうすると,そうすれば,そうなると,そうなれば,そのかわり,それなのに,それゆえに,たくまざる,だとしたら,だとすると,だとすれば,ではあるが,というのは,というのも,というより,なぜならば,やすやすと,ようするに,ああいう,ああした,あたかも,あらゆる,あるいは,いかなる,いつかは,いっぱい,いろんな,いわゆる,おおきな,おかしな,おそらく,おなじく,おまけに,かえって,かくして,かわりに,くわえて,ぐんぐん,けれども,こういう,こうして,このため,しかるに,しばらく,すなわち,そういう,そうした,そのうえ,そのくせ,そのため,そもそも,それから,それから,それでは,それでも,それとも,それなら,それには,たいした,たいそう,たくさん,だけども,たとえば,たやすく,ちいさな,ちなみに,というか,どういう,とうてい,ときどき,ところが,どころか,ところで,となると,となれば,とにかく,とはいえ,ともあれ,とりわけ,ないしは,なかでも,なぜなら,なぜなら,なだたる,なにしろ,ならびに,はじめに,はずべき,はなはだ,ひいては,ひょんな,ふとした,ほかには,ほかにも,めっきり,もしくは,もっとも,あまり,あらぬ,ありし,あんな,いただ,いつか,いつも,いわば,および,かかる,かなり,きたる,きっと,けれど,ことに,こんな,さらに,しかし,しかも,じつは,じゃあ,すぐに,すぐに,すると,そこで,そして,そっと,それで,それに,そんな,だから,だけど,ただし,だって,たまに,つぎに,つまり,ですが,とある,どうか,ときに,とくに,とても,とんだ,どんな,なにせ,なのに,ならば,ほんの,まさか,または,むこう,むしろ,もっと,もっと,もっと,ものの,やはり,ゆえに,ようは,よって,ああ,あの,ある,かつ,かの,けど,こう,この,さて,さる,そう,その,だが,ただ,では,でも,どう,どの,なお,なぜ,のに,また,もし,よく,わが".split(","),O="けれども,ところで,において,について,かしら,がてら,くらい,ぐらい,けれど,ってば,ながら,などの,なんぞ,ばかり,ものか,ものの,かい,から,かり,きり,こそ,さえ,しか,ずつ,だけ,だの,たり,つつ,では,ても,でも,とも,なぞ,など,なり,にて,には,ので,のに,のみ,ほど,まで,まま,もん,やら,より,か,が,さ,し,ぜ,ぞ,て,で,と,な,に,ね,の,は,ば,へ,も,や,よ,わ,を".split(","),T="がおこな,のような,があり,がおき,ができ,がでて".split(","),E="お,ご".split(","),S="第,約".split(",");function P(r,o){const e=K(r),n=Array(e.length).fill(0);v(e,n);const t=[...r];return o.length&&h(t,n,o,-1),h(t,n,N,-1),h(t,n,O,1),h(t,n,T,-1,1),A(t,e,n,E,x,"H",-1,2),A(t,e,n,S,b,"N",0,2),[e,n]}const b="SETIKNVO",x="SETIKHNVO",H=[["S",/[「『（［｛〈《【〔〖〘〚＜“]/u],["E",/[」』）］｝〉》】〕〗〙〛＞”]/u],["T",/[、，。．？！を：・]/u],["I",/[ぁ-んゝ]/u],["K",/[ァ-ヴーｱ-ﾝﾞｰ]/u],["H",/[々〆ヵヶ]|[\u4E00-\u9FFF]|[\u{20000}-\u{2A6DF}]/u],["N",/[0-9０-９]/u],["V",/\s/u]];function K(r){const o=[];for(const e of r)o.push(C(e));return o}function C(r){for(const[o,e]of H)if(e.test(r))return o;return"O"}const m=new Map([["*S",-1],["S*",2],["*E",2],["*T",99],["T*",-99],["*V",-1],["V*",-1],["II",1],["KK",1],["HH",1],["NN",1],["OO",1],["TT",1],["HI",1],["NH",2],["NK",1],["NI",1],["ON",1],["NO",1]]);function v(r,o){for(let e=1;e<r.length;e+=1){const n=r[e-1],t=r[e];o[e]+=(m.get(n+t)??0)+(m.get("*"+t)??0)+(m.get(n+"*")??0)}}function h(r,o,e,n,t=0){for(const s of e){const i=[...s],c=i.length;for(let l=0;;){const d=I(r,i,l);if(d===-1)break;const p=d+c;o[d+t]+=(c-t)*n;for(let u=1;u<c-t;u+=1)o[d+t+u]+=c-t;l=p}}}function A(r,o,e,n,t,s,i,c){const l=o.length;for(const d of n){const p=[...d],u=p.length;for(let y=0;;){const f=I(r,p,y);if(f===-1)break;const g=f+u;if((f===0||f!==0&&t.includes(o[f-1]))&&(g===l||g<l&&s.includes(o[g]))){e[f]+=i,g<e.length&&(e[g]+=c);for(let a=1;a<u;a+=1)e[f+a]+=u}y=g}}}function I(r,o,e=0){if(r==null||r.length===0)return-1;for(let n=e;n<r.length-o.length+1;n+=1){let t=!0;for(let s=0;s<o.length;s+=1)if(r[n+s]!==o[s]){t=!1;break}if(t)return n}return-1}function B(r,o){const e=[];let n="",t=0;for(const s of r)o[t]<=0&&(e.push(n),n=""),n+=s,t+=1;return n.length&&e.push(n),e}document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("segmenter-text"),o=document.getElementById("segmenter-pn"),e=document.getElementById("apply-segmenter"),n=document.getElementById("segmenter-result");e.addEventListener("click",()=>{const t=r.value,s=o.value.split(`
`).map(c=>c.trim()).filter(c=>c.length),i=L(t,s);if(n.innerHTML="",i)for(const c of i){const l=document.createElement("span");l.innerText=c,n.appendChild(l)}})});
